<html>
    <head>
        <link rel="stylesheet" href="../../../../../dist/hig.css">
        <script type="text/javascript" src="../../../../../dist/hig.js"></script>
    </head>
    <body>
        <style>
            /* CUSTOM STYLES FOR THIS DEMO */
            body, html{
                margin: 0; padding: 0;
            }
            .hig__global-nav__slot{
                text-align: center;
            }
            .hig__global-nav__slot img{
                max-width: 1280px;
            }
        </style>

        <script>
            var menuModel = [
                { type: "section", label: "Project", name: "Oakwood Medical Center", groups: [
                    { type: "group", modules: [
                        { type: "module", icon: "insight", label: "Insight", submodules: [
                            { type: "submodule", label: "Overview", contentImage: "content/Oakwood__Insight__Overview@2x.png" },
                            { type: "submodule", label: "Risk", contentImage: "content/Oakwood__Insight__Risk@2x.png" },
                            { type: "submodule", label: "Quality", contentImage: "content/Oakwood__Insight__Quality@2x.png" },
                            { type: "submodule", label: "Reports", contentImage: "content/Oakwood__Insight__Reports@2x.png" }
                        ]}
                    ]},
                    { type: "group", modules: [
                        { type: "module", icon: "construction-management", label: "Authoring Collaboration", submodules: [
                            { type: "submodule", label: "Cloud Work Sharing", contentImage: "content/Oakwood__AuthoringCollaboration__CloudWorkSharing@2x.png" },
                            { type: "submodule", label: "Fluent", contentImage: "content/Oakwood__AuthoringCollaboration__Fluent@2x.png" },
                            { type: "submodule", label: "Approvals", contentImage: "content/Oakwood__AuthoringCollaboration__Approvals@2x.png" }
                        ]},
                        { type: "module", icon: "document-management", label: "Document Management", submodules: [
                            { type: "submodule", label: "Document Workflow", contentImage: "content/Oakwood__DocumentManagement__DocumentWorkflow@2x.png" }
                        ]},
                        { type: "module", icon: "placeholder", label: "Model Coordination", submodules: [
                            { type: "submodule", label: "Overview", contentImage: "content/Oakwood__ModelCoordination__Overview@2x.png" },
                            { type: "submodule", label: "Models", contentImage: "content/Oakwood__ModelCoordination__Models@2x.png" },
                            { type: "submodule", label: "Checklists", contentImage: "content/Oakwood__ModelCoordination__Checklists@2x.png" },
                            { type: "submodule", label: "Clashes", contentImage: "content/Oakwood__ModelCoordination__Clashes@2x.png" },
                            { type: "submodule", label: "Issues", contentImage: "content/Oakwood__ModelCoordination__Issues@2x.png" }
                        ]},
                        { type: "module", icon: "project-management", label: "Project Management", submodules: [
                            { type: "submodule", label: "RFIs", contentImage: "content/Oakwood__ProjectManagement__RFIs@2x.png" },
                            { type: "submodule", label: "Submittals", contentImage: "content/Oakwood__ProjectManagement__Submittals@2x.png" },
                            { type: "submodule", label: "Daily Log", contentImage: "content/Oakwood__ProjectManagement__DailyLog@2x.png" },
                        ]},
                        { type: "module", icon: "quantities", label: "Quantities", submodules: [
                            { type: "submodule", label: "2D", contentImage: "content/Oakwood__Quantities__2D@2x.png" },
                            { type: "submodule", label: "3D", contentImage: "content/Oakwood__Quantities__3D@2x.png" },
                        ]},
                        { type: "module", icon: "cost-control", label: "Cost Control", submodules: [
                            { type: "submodule", label: "Bid Management", contentImage: "content/Oakwood__CostControl__BidManagement@2x.png" },
                            { type: "submodule", label: "Estimating", contentImage: "content/Oakwood__CostControl__Estimating@2x.png" },
                            { type: "submodule", label: "Budget", contentImage: "content/Oakwood__CostControl__Budget@2x.png" },
                            { type: "submodule", label: "Change Orders", contentImage: "content/Oakwood__CostControl__ChangeOrders@2x.png" },
                            { type: "submodule", label: "Pay Applications", contentImage: "content/Oakwood__CostControl__PayApplications@2x.png" },
                        ]},
                        { type: "module", icon: "schedule", label: "Schedule", submodules: [
                            { type: "submodule", label: "Master Schedule", contentImage: "content/Oakwood__Schedule__MasterSchedule@2x.png" },
                            { type: "submodule", label: "Production Plan", contentImage: "content/Oakwood__Schedule__ProductionPlan@2x.png" }
                        ]},
                        { type: "module", icon: "field", label: "Field", submodules: [
                            { type: "submodule", label: "Quality", contentImage: "content/Oakwood__Field__Quality@2x.png" },
                            { type: "submodule", label: "Safety", contentImage: "content/Oakwood__Field__Safety@2x.png" },
                            { type: "submodule", label: "Commissioning", contentImage: "content/Oakwood__Field__Commissioning@2x.png" },
                            { type: "submodule", label: "Checklists", contentImage: "content/Oakwood__Field__Checklists@2x.png" },
                            { type: "submodule", label: "Issues", contentImage: "content/Oakwood__Field__Issues@2x.png" },
                            { type: "submodule", label: "Activities", contentImage: "content/Oakwood__Field__Activities@2x.png" },
                        ]},
                        { type: "module", icon: "layout", label: "Layout", contentImage: "content/Oakwood__Layout@2x.png" },
                        { type: "module", icon: "buildingops", label: "Building Ops", contentImage: "content/Oakwood__BuildingOps@2x.png" },
                    ]},
                    { type: "group", modules: [
                        { type: "module", icon: "library", label: "Library", contentImage: "content/Oakwood__Library@2x.png" },
                        { type: "module", icon: "photos", label: "Photos", contentImage: "content/Oakwood__Photos@2x.png" },
                        { type: "module", icon: "assets", label: "Assets", contentImage: "content/Oakwood__Assets@2x.png" },
                        { type: "module", icon: "locations", label: "Location", contentImage: "content/Oakwood__Locations@2x.png" }
                    ]},
                    { type: "group", modules: [
                        { type: "module", icon: "project-admin", label: "Project Admin", contentImage: "content/Oakwood__ProjectAdmin@2x.png" }
                    ]}
                ]},
                { type: "section", label: "Account", name: "Global Construction", groups: [
                    { type: "group", modules: [
                        { type: "module", icon: "insight", label: "Insight", contentImage: "content/GlobalConstruction__Insight@2x.png" },
                        { type: "module", icon: "field", label: "Field", submodules: [
                            { type: "submodule", label: "Checklists Templates", contentImage: "content/GlobalConstruction__Field__ChecklistsTemplates@2x.png" },
                            { type: "submodule", label: "Issues Templates", contentImage: "content/GlobalConstruction__Field__IssuesTemplates@2x.png" }
                        ]},
                        { type: "module", icon: "account-admin", label: "Account Admin", submodules: [
                            { type: "submodule", label: "Projects", contentImage: "content/GlobalConstruction__AccountAdmin__Projects@2x.png" },
                            { type: "submodule", label: "Members", contentImage: "content/GlobalConstruction__AccountAdmin__Members@2x.png" },
                            { type: "submodule", label: "Companies", contentImage: "content/GlobalConstruction__AccountAdmin__Companies@2x.png" },
                            { type: "submodule", label: "Services", contentImage: "content/GlobalConstruction__AccountAdmin__Services@2x.png" },
                            { type: "submodule", label: "Analytics", contentImage: "content/GlobalConstruction__AccountAdmin__Analytics@2x.png" },
                            { type: "submodule", label: "Settings", contentImage: "content/GlobalConstruction__AccountAdmin__Settings@2x.png" }
                        ]}
                    ]}
                ]}
            ];

            var default_menu = [
                {
                    "headerLabel": "Project",
                    "headerName": "Oakwood Medical Center",
                    "groups": [
                        [
                            {
                                "icon": "insight",
                                "title": "Insight",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Overview",
                                        "contentImage": "content/Oakwood__Insight__Overview@2x.png"
                                    },
                                    {
                                        "label": "Risk",
                                        "contentImage": "content/Oakwood__Insight__Risk@2x.png"
                                    },
                                    {
                                        "label": "Quality",
                                        "contentImage": "content/Oakwood__Insight__Quality@2x.png"
                                    },
                                    {
                                        "label": "Reports",
                                        "contentImage": "content/Oakwood__Insight__Reports@2x.png"
                                    }
                                ]
                            }
                        ],
                        [
                            {
                                "icon": "construction-management",
                                "title": "Authoring Collaboration",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Cloud Work Sharing",
                                        "contentImage": "content/Oakwood__AuthoringCollaboration__CloudWorkSharing@2x.png"
                                    },
                                    {
                                        "label": "Fluent",
                                        "contentImage": "content/Oakwood__AuthoringCollaboration__Fluent@2x.png"
                                    },
                                    {
                                        "label": "Approvals",
                                        "contentImage": "content/Oakwood__AuthoringCollaboration__Approvals@2x.png"
                                    }
                                ]
                            },
                            {
                                "icon": "document-management",
                                "title": "Document Management",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Document Workflow",
                                        "contentImage": "content/Oakwood__DocumentManagement__DocumentWorkflow@2x.png"
                                    }
                                ]
                            },
                            {
                                "icon": "model-coordination",
                                "title": "Model Coordination",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Overview",
                                        "contentImage": "content/Oakwood__ModelCoordination__Overview@2x.png"
                                    },
                                    {
                                        "label": "Models",
                                        "contentImage": "content/Oakwood__ModelCoordination__Models@2x.png"
                                    },
                                    {
                                        "label": "Checklists",
                                        "contentImage": "content/Oakwood__ModelCoordination__Checklists@2x.png"
                                    },
                                    {
                                        "label": "Clashes",
                                        "contentImage": "content/Oakwood__ModelCoordination__Clashes@2x.png"
                                    },
                                    {
                                        "label": "Issues",
                                        "contentImage": "content/Oakwood__ModelCoordination__Issues@2x.png"
                                    }
                                ]
                            },
                            {
                                "icon": "project-management",
                                "label": "Project Management",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "RFIs",
                                        "contentImage": "content/Oakwood__ProjectManagement__RFIs@2x.png"
                                    },
                                    {
                                        "label": "Submittals",
                                        "contentImage": "content/Oakwood__ProjectManagement__Submittals@2x.png"
                                    },
                                    {
                                        "label": "Daily Log",
                                        "contentImage": "content/Oakwood__ProjectManagement__DailyLog@2x.png"
                                    },
                                ]
                            },
                        ],
                        "group3": [
                            {
                                "icon": "quantities",
                                "label": "Quantities",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "2D",
                                        "contentImage": "content/Oakwood__Quantities__2D@2x.png"
                                    },
                                    {
                                        "label": "3D",
                                        "contentImage": "content/Oakwood__Quantities__3D@2x.png"
                                    },
                                ]
                            },
                            {
                                "icon": "cost-control",
                                "label": "Cost Control",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Bid Management",
                                        "contentImage": "content/Oakwood__CostControl__BidManagement@2x.png"
                                    },
                                    {
                                        "label": "Estimating",
                                        "contentImage": "content/Oakwood__CostControl__Estimating@2x.png"
                                    },
                                    {
                                        "label": "Budget",
                                        "contentImage": "content/Oakwood__CostControl__Budget@2x.png"
                                    },
                                    {
                                        "label": "Change Orders",
                                        "contentImage": "content/Oakwood__CostControl__ChangeOrders@2x.png"
                                    },
                                    {
                                        "label": "Pay Applications",
                                        "contentImage": "content/Oakwood__CostControl__PayApplications@2x.png"
                                    },
                                ]
                            },
                            {
                                "icon": "schedule",
                                "label": "Schedule",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Master Schedule",
                                        "contentImage": "content/Oakwood__Schedule__MasterSchedule@2x.png"
                                    },
                                    {
                                        "label": "Production Plan",
                                        "contentImage": "content/Oakwood__Schedule__ProductionPlan@2x.png"
                                    }
                                ]
                            },
                            {
                                "icon": "field",
                                "label": "Field",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Quality (Overview)",
                                        "contentImage": "content/egg.png"
                                    },
                                    {
                                        "label": "Safety (Overview)",
                                        "contentImage": "content/egg.png"
                                    },
                                    {
                                        "label": "Commissioning (Overview)",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Checklists",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Issues",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Activities",
                                        "contentImage": "egg.png"
                                    },
                                ]
                            },
                            {
                                "icon": "layout",
                                "label": "Layout",
                                "link": "#",
                                "tabs": [
                                ]
                            },
                            {
                                "icon": "buildingops",
                                "label": "Building Ops",
                                "link": "#",
                                "tabs": [
                                ]
                            },
                        ],
                        [
                            {
                                "icon": "library",
                                "label": "Library",
                                "link": "#",
                                "tabs": [
                                ]
                            },
                            {
                                "icon": "photos",
                                "label": "Photos",
                                "link": "#",
                                "tabs": [
                                ]
                            },
                            {
                                "icon": "assets",
                                "label": "Assets",
                                "link": "#",
                                "tabs": [
                                ]
                            },
                            {
                                "icon": "locations",
                                "label": "Location",
                                "link": "#",
                                "tabs": [
                                ]
                            }
                        ],
                        [
                            {
                                "icon": "project-admin",
                                "label": "Project Admin",
                                "link": "#",
                                "tabs": [
                                ]
                            }
                        ]
                    ]
                },
                {
                    "headerLabel": "Account",
                    "headerName": "Global Construction",
                    "groups": [
                        [
                            {
                                "icon": "insight",
                                "label": "Insight",
                                "link": "#",
                                "tabs": [
                                ]
                            },
                            {
                                "icon": "field",
                                "label": "Field",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Checklists Templates",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Issues Templates",
                                        "contentImage": "egg.png"
                                    }
                                ]
                            },
                            {
                                "icon": "account-admin",
                                "label": "Account Admin",
                                "link": "#",
                                "tabs": [
                                    {
                                        "label": "Projects",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Members",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Companies",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Services",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Analytics",
                                        "contentImage": "egg.png"
                                    },
                                    {
                                        "label": "Settings",
                                        "contentImage": "egg.png"
                                    }
                                ]
                            }
                        ]
                    ]
                }
            ]

            // CREATE GLOBALNAV COMPONENT
            var GlobalNav = new Hig.GlobalNav();
            GlobalNav.mount("body");

            // ADD SIDENAV
            var SideNav = new GlobalNav.partials.SideNav();
            GlobalNav.addSideNav(SideNav);

            // ADD SEARCH IN SIDENAV
            var SideNavSearch = new SideNav.partials.Search({
                "placeholder": "Find module or submodule"
            });
            SideNav.addSearch(SideNavSearch);

            SideNavSearch.onInput(function(e){
                // do example filter of sidenav
                filterMenu(e.target.value);
            });

            SideNavSearch.onFocusIn(function(e){
                SideNavSearch.showClearIcon();
            });

            SideNavSearch.onFocusOut(function(e){
                SideNavSearch.hideClearIcon();
            });

            SideNavSearch.onClearIconClick(function(e){
                SideNavSearch.setQuery(''); // set input to empty
            });

            // ADD TOPNAV
            var TopNav = new GlobalNav.partials.TopNav({
                "logo": "https://www.dexigner.com/images/news/xw/22856.jpg",
                "logo_link": "#"
            });
            GlobalNav.addTopNav(TopNav);

            // EVENTS TOPNAV
            TopNav.onHamburgerClick(function(e){
                if(menuModel["_menu_open"]){
                    GlobalNav.hideSideNav();
                }else{
                    GlobalNav.showSideNav();
                }
                menuModel["_menu_open"] = !menuModel["_menu_open"];
            });

            // CREATE PROFILE
            var MyProfile1 = new TopNav.partials.Profile({
                image: "avatar/david-construction-project-manager.png",
                name: "David Rogers",
                email: "david.rogers@autodesk.com"
            });

            TopNav.addProfile(MyProfile1);

            MyProfile1.setProfileSettingsLink('http://apple.com');
            MyProfile1.setSignOutLink('http://google.com');

            MyProfile1.onProfileImageClick(function(e){ MyProfile1.open() });
            MyProfile1.onProfileClickOutside(function(e){ MyProfile1.close() });

            // HAMBURGER OPENS/CLOSES SideNav
            var menu_open = false;
            TopNav.onHamburgerClick(function(e){
                if(menu_open){
                    GlobalNav.hideSideNav();
                }else{
                    SideNavSearch.setQuery(""); // reset any search
                    filterMenu("");
                    GlobalNav.showSideNav();
                }
                menu_open = !menu_open;
            });

            GlobalNav.onHoverOutside(function(e){
                if(menu_open){
                    GlobalNav.hideSideNav();
                    menu_open = !menu_open;
                }
            })

            // ADD SUBNAV
            var SubNav = new GlobalNav.partials.SubNav();
            GlobalNav.addSubNav(SubNav);

            SubNav.setModuleIndicatorName("Documents Library");
            SubNav.setModuleIndicatorIcon("hamburger");

            // ADD TABS IN SUBNAV
            var Tabs = new SubNav.partials.Tabs();
            SubNav.addTabs(Tabs);

            // LISTEN TO MODULE INDICATOR CLICK IN SUBNAV
            SubNav.onModuleIndicatorClick(function(e){
                if(menu_open){
                    GlobalNav.hideSideNav();
                }else{
                    GlobalNav.showSideNav();
                }
                menu_open = !menu_open;
            });

            // ADD SOME CONTENT
            var SlotEl = document.createElement('div');
            SlotEl.innerHTML = "Some example default content";
            GlobalNav.addSlot(SlotEl);

            var sections = [];
            
            // CONSTRUCT OUR SIDENAV
            for (var section in default_menu){

                // SCOPE SCOPE SCOPE
                (function(section){
                    // INTERNAL HELPER ARRAYS TO KEEP STATE
                    var modules = {};
                    sections.push(modules);
                    
                    // ADD A SECTION IN OUR SIDENAV
                    var generated_section = new SideNav.partials.Section({
                        "headerLabel": default_menu[section]["headerLabel"],
                        "headerName": default_menu[section]["headerName"]
                    });
                    SideNav.addSection(generated_section);

                    // ADD A COLLAPSE ICON TO OUR SIDENAV SECTION HEADER
                    var generated_collapseIcon = new generated_section.partials.Collapse();
                    generated_section.addCollapse(generated_collapseIcon);
                    
                    // HANDLE SHOW/HIDE SUBMODULES ON [ + ] or [ - ] CLICK
                    var collapse_submodules = true;
                    generated_collapseIcon.onClick((e) => {
                        if(collapse_submodules){
                            generated_collapseIcon.minimize();
                            for (var module in modules){
                                modules[module]["module"].showSubmodules();
                            }
                        }else{
                            generated_collapseIcon.maximize();
                            for (var module in modules){
                                modules[module]["module"].hideSubmodules();
                            }
                        }
                        collapse_submodules = !collapse_submodules;
                    });

                    for (var group in default_menu[section]["groups"]){

                        // ADD A GROUP TO OUR SECTION
                        var generated_group = new generated_section.partials.Group();
                        generated_section.addGroup(generated_group);

                        var current_group = default_menu[section]["groups"][group];
                        current_group.forEach(function(item){

                            // ADD SOME MODULES TO OUR GROUP                               
                            var generated_module = new generated_group.partials.Module({
                                "icon": item["icon"],
                                "title": item["label"],
                                "link": item["link"]
                            });
                            generated_group.addModule(generated_module);

                            // save to our array for state mngmt
                            var moduleObj = {
                                "module": generated_module,
                                "submodules": {}
                            }
                            modules[item["label"]] = moduleObj;

                            generated_module.onClick(function(e){
                                e.preventDefault();
                                if(item["tabs"]){
                                    buildTabs(item, item["tabs"][0]);
                                }else{
                                    buildTabs(item);
                                }
                            });

                            // LETS CLICK ON FIRST SIDENAV AND TAB FOR DEFAULT VALUES;
                            if(!window.firstClicked){
                                generated_module.el.click();
                                window.firstClicked = true;
                            }

                            if(item["tabs"]){
                                // render subitems for search
                                item["tabs"].forEach(function(tab){
                                    var generated_submodule = new generated_module.partials.Submodule({
                                        "title": tab["label"],
                                        "link": "#"
                                    });
                                    generated_module.addSubmodule(generated_submodule);

                                    generated_submodule.onClick(function(e){
                                        e.preventDefault();
                                        buildTabs(item, tab);
                                    });

                                    // save to our array for state mngmt
                                    groupState["modules"][item["label"]]["submodules"][tab["label"]] = generated_submodule;
                                });
                            }
                        });

                            generated_module.onClick((e) => {
                                e.preventDefault();

                    
                })(section);
            }

            function buildTabs(item, selectedTab){
                var generated_tabs = [];

                // SET SUBNAV LABEL AND ICON
                SubNav.setModuleIndicatorName(item["label"]);
                SubNav.setModuleIndicatorIcon(item["icon"]);

                // CLOSE SIDENAV
                GlobalNav.hideSideNav();

                // CLEAR TABS
                Tabs.unmount();

                // ADD TABS IN SUBNAV
                Tabs = new SubNav.partials.Tabs();
                SubNav.addTabs(Tabs);

                function tabClicked(generated_tab, tabContentImage){
                    for (var k = 0; k < generated_tabs.length; k++){
                        generated_tabs[k]["tab"].deactivate();
                    }
                    generated_tab.activate();

                    // SLOT IN SOME EXAMPLE IMAGE CONTENT
                    SlotEl.innerHTML = "<img src='"+tabContentImage+"' width='1280'>";
                }

                if(item["tabs"]){
                    item["tabs"].forEach(function(tab){
                        var generated_tab = new Tabs.partials.Tab({
                            "label": tab["label"]
                        });
                        Tabs.addTab(generated_tab);
                        generated_tabs.push({
                            "label": tab["label"],
                            "tab": generated_tab
                        });

                        generated_tab.onClick(function(){
                            tabClicked(generated_tab, tab["contentImage"]);
                        });

                    });

                    // SELECT FIRST TAB BY DEFAULT
                    if(!selectedTab){
                        tabClicked(generated_tabs[0]["tab"], item["tabs"][0]["contentImage"]);
                    }else{
                        // #TODO
                        var foundTab = generated_tabs.find(function(i){
                            return i["label"] === selectedTab["label"];
                        });

                        tabClicked(foundTab["tab"], selectedTab["contentImage"]);
                    }

                }else{
                    // SLOT IN SOME EXAMPLE IMAGE CONTENT
                    var contentImage = item["contentImage"];
                    SlotEl.innerHTML = "<img src='"+contentImage+"' width='1280'>";
                }
            }

            function getFilteredMenuObject(q){
                q = q.toLowerCase();

                for(var sectionIndex in sections){
                    var section = sections[sectionIndex];
                    
                    for(var moduleKey in section){
                        
                        var found = false;
                        var module = section[moduleKey]["module"];

                        module.showSubmodules(); // always show submodules

                        for(var submoduleKey in section[moduleKey]["submodules"]){
                            var submodule = section[moduleKey]["submodules"][submoduleKey];
                            if(submoduleKey.toLowerCase().indexOf(q) == -1){
                                submodule.hide();
                            }else{
                                submodule.show();
                                found = true;
                            }
                        }

                        if(moduleKey.toLowerCase().indexOf(q) == -1){
                            if(!found){
                                module.hide();
                            }else{
                                module.show();
                            }
                        }else{
                            module.show();
                        }
                    }
                }
            }

            // CREATE PROJECT ACCOUNT SWITCHER
            var ProjectAccountSwitcher = new TopNav.partials.ProjectAccountSwitcher({
                activeLabel: 'Global Construction / West Oakwood Medical Center',
                activeImage: './project-1.png',
                activeType: 'account'
            });

            TopNav.addProjectAccountSwitcher(ProjectAccountSwitcher);

            // ADD PROJECTS
            var projectsData = [
                { label: 'Oakwood Medical Center', image: './project-1.png' },
                { label: 'Colorado Myrtle Shield Apartments', image: './project-2.png' },
                { label: 'Grey Pillars', image: './project-3.png' },
                { label: 'Keystone Apartments' },
                { label: 'Pleasant Park', image: './project-4.png' }
            ];
            var projectComponents = projectsData.map(function(project){
                return new ProjectAccountSwitcher.partials.Project(project);
            });
            projectComponents.forEach(function(projectComponent){
                ProjectAccountSwitcher.addProject(projectComponent);
                projectComponent.onClick(function(){ projectComponent.activate(); });
            });

            // ADD ACCOUNT
            var accountsData = [
                { label: 'Oakwood Medical Center', image: './project-1.png' },
                { label: 'Colorado Myrtle Shield Apartments', image: './project-2.png' },
                { label: 'Grey Pillars', image: './project-3.png' },
                { label: 'Keystone Apartments' },
                { label: 'Pleasant Park', image: './project-4.png' }
            ];
            var accountComponents = accountsData.map(function(account){
                return new ProjectAccountSwitcher.partials.Account(account);
            });
            accountComponents.forEach(function(accountComponent){
                ProjectAccountSwitcher.addAccount(accountComponent);
                accountComponent.onClick(function(){ accountComponent.activate(); });
            });

            ProjectAccountSwitcher.onClick(function(){
                ProjectAccountSwitcher.open();
            });

            ProjectAccountSwitcher.onClickOutside(function(){
                ProjectAccountSwitcher.close();
            })

        </script>

    </body>
</html>
