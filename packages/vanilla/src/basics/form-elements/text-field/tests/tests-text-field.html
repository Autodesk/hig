<html>
    <head>
        <link rel="stylesheet" href="../../../../../lib/hig.css">
        <script type="text/javascript" src="../../../../../lib/hig.js"></script>

        <style>
            body{
                margin: 30px;
            }

            .test-group {
                margin-bottom: 50px;
            }
        </style>
    </head>
    <body>
        <div class='test-group'>
            <div class='tests-text-field-heading'></div>
            <div class='tests-text-field'></div>
        </div>

        <div class='test-group'>
            <div class='tests-text-field-disabled-heading'></div>
            <div class='tests-text-field-disabled'></div>
        </div>

        <div class='test-group'>
            <div class='tests-text-field-icon-heading'></div>
            <div class='tests-text-field-icon'></div>
        </div>

        <div class='test-group'>
            <div class='tests-text-field-clear-button-heading'></div>
            <div class='tests-text-field-clear-button'></div>
        </div>

        <div class='test-group'>
            <div class='tests-text-field-update-heading'></div>
            <div class='tests-text-field-update'></div>
        </div>

        <div class='test-group'>
            <div class='tests-text-field-events-heading'></div>
            <div class='tests-text-field-events'></div>
        </div>

        <script>
            const FormElements = new Hig.FormElements();
            const TextField = FormElements.partials.TextField;

            // TEXT FIELD CONFIGURED WITH DEFAULTS

            const DefaultHeading = new Hig.Typography({
                text: "TextField configured with defaults",
                type: "h2"
            });

            const DefaultTextField = new TextField({
                label: "Our label",
                name: "testlabel",
                placeholder: "Our placeholder",
                instructions: "Type your words into the text field"
            });

            DefaultHeading.mount('.tests-text-field-heading');
            DefaultTextField.mount('.tests-text-field');


            // TEXT FIELD DISABLED

            const DisabledHeading = new Hig.Typography({
                text: "Disabled TextField",
                type: "h2"
            });

            const DisabledTextField = new TextField({
                label: "None shall pass",
            });

            DisabledHeading.mount('.tests-text-field-disabled-heading');
            DisabledTextField.mount('.tests-text-field-disabled');
            DisabledTextField.disable();



            // TEXT FIELD WITH ICON

            const IconHeading = new Hig.Typography({
                text: "TextField with icon",
                type: "h2"
            });

            const IconTextField = new TextField({
                label: "What is your favorite secret society?",
                placeholder: "Skull & Bones",
                icon: 'visible'
            });

            IconHeading.mount('.tests-text-field-icon-heading');
            IconTextField.mount('.tests-text-field-icon');

            IconTextField.setIcon('location');


            // TEXT FIELD WITH CLEAR BUTTON

            const ClearButtonHeading = new Hig.Typography({
                text: "TextField with clear button",
                type: "h2"
            });

            const ClearButtonTextField = new TextField({
                label: "What is your favorite secret society?",
                placeholder: "Skull & Bones"
            });

            ClearButtonHeading.mount('.tests-text-field-clear-button-heading');
            ClearButtonTextField.mount('.tests-text-field-clear-button');

            ClearButtonTextField.onInput(event => {
              if (event.target.value.length === 0) {
                ClearButtonTextField.hideClearButton();
              } else {
                ClearButtonTextField.showClearButton();
              }
            });

            ClearButtonTextField.onClearButtonClick(() => {
              console.log("Clear button clicked");
              ClearButtonTextField.setValue("");
              ClearButtonTextField.hideClearButton();
            });

            // TEXT FIELD CONFIGURED WITH SETTERS

            const SetterHeading = new Hig.Typography({
                text: "TextField configured with setters",
                type: "h2"
            });
            SetterHeading.mount('.tests-text-field-update-heading');

            const SetterTextField = new TextField();

            SetterTextField.mount('.tests-text-field-update');

            SetterTextField.setLabel('This is an updated label');
            SetterTextField.setInstructions('These instructions have been updated');
            SetterTextField.setName('updated-name');
            SetterTextField.setPlaceholder('Updated placeholder');
            SetterTextField.setValue('Updated value');
            SetterTextField.required('You have to fill this in.');
            SetterTextField.setIcon(null);


            // TEXT FIELD WITH EVENT LISTENERS

            const EventsHeading = new Hig.Typography({
                text: "TextField that logs events to the console",
                type: "h2"
            });

            const EventsTextField = new TextField({
                label: "Our label",
                placeholder: "Our placeholder",
                instructions: "Type your words into the text field"
            });

            EventsHeading.mount('.tests-text-field-events-heading');
            EventsTextField.mount('.tests-text-field-events');

            function log(event) {
                const message = event.type + "event triggered";
                console.log(message);
            }

            EventsTextField.onBlur(log);
            EventsTextField.onChange(log);
            EventsTextField.onFocus(log);
            EventsTextField.onInput(log);

        </script>

    </body>
</html>
